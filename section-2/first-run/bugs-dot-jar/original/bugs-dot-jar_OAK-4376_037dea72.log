[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Oak Core 1.6-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.1.201405082137:prepare-agent (pre-unit-test) @ oak-core ---
[INFO] Skipping JaCoCo execution because property jacoco.skip is set.
[INFO] test.opts.coverage set to empty
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.4:process (default) @ oak-core ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ oak-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ oak-core ---
[INFO] Compiling 4 source files to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes
[INFO] 
[INFO] --- maven-scr-plugin:1.16.0:scr (generate-scr-scrdescriptor) @ oak-core ---
[WARNING] /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/DbDataStoreService.java [1:1]:  Component org.apache.jackrabbit.oak.plugins.blob.datastore.DbDataStore is using the deprecated inheritance feature and inherits from org.apache.jackrabbit.oak.plugins.blob.datastore.AbstractDataStoreService. This feature will be removed in future versions.
[WARNING] /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/SharedS3DataStoreService.java [1:1]:  Component org.apache.jackrabbit.oak.plugins.blob.datastore.SharedS3DataStore is using the deprecated inheritance feature and inherits from org.apache.jackrabbit.oak.plugins.blob.datastore.AbstractDataStoreService. This feature will be removed in future versions.
[WARNING] /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/FileDataStoreService.java [1:1]:  Component org.apache.jackrabbit.oak.plugins.blob.datastore.FileDataStore is using the deprecated inheritance feature and inherits from org.apache.jackrabbit.oak.plugins.blob.datastore.AbstractDataStoreService. This feature will be removed in future versions.
[WARNING] /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/blob/datastore/S3DataStoreService.java [1:1]:  Component org.apache.jackrabbit.oak.plugins.blob.datastore.S3DataStore is using the deprecated inheritance feature and inherits from org.apache.jackrabbit.oak.plugins.blob.datastore.AbstractDataStoreService. This feature will be removed in future versions.
[WARNING] /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/atomic/AtomicCounterEditorProvider.java [1:1]: Property type in class org.apache.jackrabbit.oak.plugins.atomic.AtomicCounterEditorProvider is set as private. This is redundant as no metatype will be generated.
[WARNING] /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/property/PropertyIndexEditorProvider.java [1:1]: Property type in class org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexEditorProvider is set as private. This is redundant as no metatype will be generated.
[WARNING] /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/src/main/java/org/apache/jackrabbit/oak/plugins/index/reference/ReferenceEditorProvider.java [1:1]: Property type in class org.apache.jackrabbit.oak.plugins.index.reference.ReferenceEditorProvider is set as private. This is redundant as no metatype will be generated.
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.security.authorization.AuthorizationConfigurationImpl.xml
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.security.authentication.AuthenticationConfigurationImpl.xml
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.security.authentication.token.TokenConfigurationImpl.xml
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.security.user.RandomAuthorizableNodeName.xml
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.security.user.UserConfigurationImpl.xml
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.security.internal.SecurityProviderRegistration.xml
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.plugins.metric.StatisticsProviderFactory.xml
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.plugins.blob.datastore.DataStoreTextProviderService.xml
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.plugins.document.DocumentNodeStoreService.xml
[INFO] Generating 1 MetaType Descriptors in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/metatype/org.apache.jackrabbit.oak.spi.security.user.action.DefaultAuthorizableActionProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.authorization.restriction.RestrictionProviderImpl.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.authorization.AuthorizationConfigurationImpl.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.authentication.AuthenticationConfigurationImpl.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.authentication.token.TokenConfigurationImpl.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.privilege.PrivilegeConfigurationImpl.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.principal.PrincipalConfigurationImpl.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.user.UserAuthenticationFactoryImpl.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.user.RandomAuthorizableNodeName.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.user.UserConfigurationImpl.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.security.internal.SecurityProviderRegistration.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.commit.ConflictValidatorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.metric.StatisticsProviderFactory.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.nodetype.TypeEditorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.blob.migration.BlobMigration.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.blob.datastore.DbDataStoreService.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.blob.datastore.SharedS3DataStoreService.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.blob.datastore.FileDataStoreService.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.blob.datastore.S3DataStoreService.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.blob.datastore.DataStoreTextProviderService.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.itemsave.ItemSaveValidatorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.version.VersionHook.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.atomic.AtomicCounterEditorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.index.property.OrderedPropertyIndexEditorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.index.property.jmx.PropertyIndexStats.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexEditorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.index.property.OrderedPropertyIndexProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.index.nodetype.NodeTypeIndexProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.index.counter.NodeCounterEditorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.index.reference.ReferenceIndexProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.index.reference.ReferenceEditorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.document.DocumentDiscoveryLiteService.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.document.DocumentNodeStoreService.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.name.NameValidatorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.plugins.name.NamespaceEditorProvider.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.cache.ConsolidatedCacheStats.xml
[INFO] Writing 1 Service Component Descriptors to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/classes/OSGI-INF/org.apache.jackrabbit.oak.spi.security.user.action.DefaultAuthorizableActionProvider.xml
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ oak-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 14 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ oak-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ oak-core ---
[INFO] Surefire report directory: /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.jackrabbit.oak.security.authorization.restriction.PermissionTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.641 sec
Running org.apache.jackrabbit.oak.security.authorization.restriction.ItemNamePatternTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.167 sec
Running org.apache.jackrabbit.oak.security.authorization.restriction.GlobPatternTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.security.authorization.restriction.RestrictionProviderImplTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.215 sec
Running org.apache.jackrabbit.oak.security.authorization.restriction.ItemNameRestrictionTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.367 sec
Running org.apache.jackrabbit.oak.security.authorization.restriction.CustomRestrictionProviderTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.147 sec
Running org.apache.jackrabbit.oak.security.authorization.accesscontrol.AdminPrincipalsIgnoreTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.149 sec
Running org.apache.jackrabbit.oak.security.authorization.accesscontrol.AccessControlManagerImplTest
Tests run: 104, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.098 sec
Running org.apache.jackrabbit.oak.security.authorization.accesscontrol.AdminPrincipalsBestEffortTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.117 sec
Running org.apache.jackrabbit.oak.security.authorization.accesscontrol.ACLTest
Tests run: 49, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.594 sec
Running org.apache.jackrabbit.oak.security.authorization.accesscontrol.AccessControlValidatorTest
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.548 sec
Running org.apache.jackrabbit.oak.security.authorization.accesscontrol.AdminPrincipalsAbortTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.103 sec
Running org.apache.jackrabbit.oak.security.authorization.accesscontrol.ReadPolicyTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.05 sec
Running org.apache.jackrabbit.oak.security.authorization.permission.PermissionEntryProviderImplTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.security.authorization.permission.ClusterPermissionsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.308 sec
Running org.apache.jackrabbit.oak.security.authorization.permission.VersionTreePermissionTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.35 sec
Running org.apache.jackrabbit.oak.security.authorization.permission.PermissionHookTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.604 sec
Running org.apache.jackrabbit.oak.security.authorization.permission.TreePermissionImplTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.122 sec
Running org.apache.jackrabbit.oak.security.authorization.permission.PermissionValidatorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.039 sec
Running org.apache.jackrabbit.oak.security.authorization.permission.PermissionProviderImplTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.271 sec
Running org.apache.jackrabbit.oak.security.authorization.permission.AllPermissionsTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.129 sec
Running org.apache.jackrabbit.oak.security.authorization.permission.PermissionStoreTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.18 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderCoverageTest
Tests run: 32, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.894 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeAuthorizationConfigurationTest
Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.293 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderNoScopeReverseTest
Tests run: 43, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.223 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeTreePermissionTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.16 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderScopeTest
Tests run: 43, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.192 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderScopeReverseTest
Tests run: 43, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.158 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeAccessControlManagerTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.16 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderFullScopeReverseTest
Tests run: 42, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.11 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderFullScopeTest
Tests run: 42, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.102 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderAllReverseTest
Tests run: 33, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.868 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderEmptyTest
Tests run: 32, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.772 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderEmptyReverseTest
Tests run: 32, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.77 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderNoScopeTest
Tests run: 43, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.102 sec
Running org.apache.jackrabbit.oak.security.authorization.composite.CompositeProviderAllTest
Tests run: 33, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.846 sec
Running org.apache.jackrabbit.oak.security.authorization.AuthorizationContextTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.138 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.Jr2CompatibilityTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.148 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.JcrUUIDTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.574 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.ChildOrderPropertyTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.177 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.RootTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.263 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.ShadowInvisibleContentTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.1 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.HiddenPropertyTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.237 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.MultipleSessionsACLStabilityTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.106 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.HiddenTreeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.202 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.VersionStorageTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.159 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.TreeTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.298 sec
Running org.apache.jackrabbit.oak.security.authorization.evaluation.MoveWithoutEntryCacheTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.057 sec
Running org.apache.jackrabbit.oak.security.authentication.Jackrabbit2ConfigurationTest
Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.35 sec
Running org.apache.jackrabbit.oak.security.authentication.GuestDefaultLoginModuleTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.046 sec
Running org.apache.jackrabbit.oak.security.authentication.TokenDefaultLoginModuleTest
Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.338 sec
Running org.apache.jackrabbit.oak.security.authentication.user.LoginModuleImplTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.26 sec
Running org.apache.jackrabbit.oak.security.authentication.token.TokenNoRefreshTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.024 sec
Running org.apache.jackrabbit.oak.security.authentication.token.TokenConfigurationImplTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.063 sec
Running org.apache.jackrabbit.oak.security.authentication.token.TokenAuthenticationTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.145 sec
Running org.apache.jackrabbit.oak.security.authentication.token.TokenValidatorTest
Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.502 sec
Running org.apache.jackrabbit.oak.security.authentication.token.TokenProviderImplTest
Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.452 sec
Running org.apache.jackrabbit.oak.security.authentication.token.TokenInfoTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.252 sec
Running org.apache.jackrabbit.oak.security.authentication.token.CompositeTokenConfigurationTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.109 sec
Running org.apache.jackrabbit.oak.security.authentication.token.TokenLoginModuleTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.136 sec
Running org.apache.jackrabbit.oak.security.privilege.PrivilegeValidatorTest
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.21 sec
Running org.apache.jackrabbit.oak.security.privilege.JcrAllCommitHookTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.022 sec
Running org.apache.jackrabbit.oak.security.privilege.PrivilegeDefinitionWriterTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.065 sec
Running org.apache.jackrabbit.oak.security.privilege.PrivilegeDefinitionReaderTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.066 sec
Running org.apache.jackrabbit.oak.security.principal.PrincipalProviderImplTest
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.322 sec
Running org.apache.jackrabbit.oak.security.user.AddMembersByIdBestEffortTest
Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.525 sec
Running org.apache.jackrabbit.oak.security.user.UserValidatorTest
Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.53 sec
Running org.apache.jackrabbit.oak.security.user.PasswordExpiryTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.155 sec
Running org.apache.jackrabbit.oak.security.user.AddMembersByIdIgnoreTest
Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.428 sec
Running org.apache.jackrabbit.oak.security.user.UserPrincipalProviderTest
Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.486 sec
Running org.apache.jackrabbit.oak.security.user.PasswordExpiryHistoryTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.085 sec
Running org.apache.jackrabbit.oak.security.user.UserPrincipalProviderWithCacheTest
Tests run: 30, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.035 sec
Running org.apache.jackrabbit.oak.security.user.AddMembersByIdAbortTest
Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.503 sec
Running org.apache.jackrabbit.oak.security.user.query.UserQueryManagerTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.119 sec
Running org.apache.jackrabbit.oak.security.user.UserImplTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.056 sec
Running org.apache.jackrabbit.oak.security.user.CacheValidatorProviderTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.304 sec
Running org.apache.jackrabbit.oak.security.user.autosave.PasswordExpiryTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.247 sec
Running org.apache.jackrabbit.oak.security.user.autosave.AuthorizableByTypeTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.121 sec
Running org.apache.jackrabbit.oak.security.user.autosave.AutoSaveEnabledManagerTest
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.472 sec
Running org.apache.jackrabbit.oak.security.user.PasswordExpiryAndForceInitialChangeTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.091 sec
Running org.apache.jackrabbit.oak.security.user.UserProviderTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.346 sec
Running org.apache.jackrabbit.oak.security.user.PasswordHistoryTest
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.704 sec
Running org.apache.jackrabbit.oak.security.user.RandomAuthorizableNodeNameTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.12 sec
Running org.apache.jackrabbit.oak.security.user.UserInitializerTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.207 sec
Running org.apache.jackrabbit.oak.security.user.UserAuthenticationFactoryImplTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.025 sec
Running org.apache.jackrabbit.oak.security.user.IntermediatePathTest
Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.386 sec
Running org.apache.jackrabbit.oak.security.user.PasswordForceInitialPasswordChangeTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.075 sec
Running org.apache.jackrabbit.oak.security.user.UserManagerImplTest
Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.427 sec
Running org.apache.jackrabbit.oak.security.user.MembershipProviderTest
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 21.513 sec
Running org.apache.jackrabbit.oak.security.user.RemoveMembersByIdBestEffortTest
Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.325 sec
Running org.apache.jackrabbit.oak.security.user.ResetExpiredPasswordTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.1 sec
Running org.apache.jackrabbit.oak.security.user.RemoveMembersByIdAbortTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.27 sec
Running org.apache.jackrabbit.oak.security.user.EveryoneGroupTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.35 sec
Running org.apache.jackrabbit.oak.security.user.UserConfigurationImplTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.062 sec
Running org.apache.jackrabbit.oak.security.user.RemoveMembersByIdIgnoreTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.271 sec
Running org.apache.jackrabbit.oak.security.user.UserAuthenticationTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.254 sec
Running org.apache.jackrabbit.oak.security.user.AuthorizableImplTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.072 sec
Running org.apache.jackrabbit.oak.security.user.SystemUserImplTest
Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.377 sec
Running org.apache.jackrabbit.oak.security.internal.SecurityProviderRegistrationTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.068 sec
Running org.apache.jackrabbit.oak.json.TypeCodesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.json.JsopDiffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.osgi.OsgiUtilTest
Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.114 sec
Running org.apache.jackrabbit.oak.osgi.ObserverTrackerTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 sec
Running org.apache.jackrabbit.oak.osgi.OsgiWhiteboardTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.query.SQL2ParserTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running org.apache.jackrabbit.oak.query.fulltext.SimpleExcerptProviderTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.058 sec
Running org.apache.jackrabbit.oak.query.XPathTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running org.apache.jackrabbit.oak.query.LargeQueryTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.995 sec
Running org.apache.jackrabbit.oak.query.ast.OrImplTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.query.ast.LikePatternTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.query.ast.FullTextTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running org.apache.jackrabbit.oak.query.ast.AndImplTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.query.ast.SimplifyTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.query.SQL2OptimiseQueryTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.075 sec
Running org.apache.jackrabbit.oak.query.IteratorsTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.032 sec
Running org.apache.jackrabbit.oak.query.UnionQueryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.012 sec
Running org.apache.jackrabbit.oak.query.index.AdvancedIndexTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.query.index.TraversingIndexTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.query.index.TraversingIndexQueryTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0.919 sec
Running org.apache.jackrabbit.oak.query.index.FilterTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.262 sec
Running org.apache.jackrabbit.oak.query.UtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.042 sec
Running org.apache.jackrabbit.oak.query.QueryCostOverheadTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec
Running org.apache.jackrabbit.oak.query.NativeQueryTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.query.facet.FacetResultTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.018 sec
Running org.apache.jackrabbit.oak.query.FilterTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.core.DefaultConflictHandlerOursTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.core.DefaultConflictHandlerTheirsTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.util.TreeUtilTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.125 sec
Running org.apache.jackrabbit.oak.util.NodeUtilTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.022 sec
Running org.apache.jackrabbit.oak.util.PerfLoggerTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.021 sec
Running org.apache.jackrabbit.oak.util.ApproximateCounterTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.021 sec
Running org.apache.jackrabbit.oak.util.AggregatingDescriptorsTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.namepath.GlobalNameMapperTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.namepath.NamePathMapperImplTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.api.TypePreconditionTest
Tests run: 52, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec
Running org.apache.jackrabbit.oak.api.UniquePropertyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec
Running org.apache.jackrabbit.oak.api.TypeComparisonTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.api.QueryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec
Running org.apache.jackrabbit.oak.plugins.identifier.IdentifierManagerTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.084 sec
Running org.apache.jackrabbit.oak.plugins.metric.MetricImplTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec
Running org.apache.jackrabbit.oak.plugins.metric.MetricStatisticsProviderTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.055 sec
Running org.apache.jackrabbit.oak.plugins.metric.CompositeStatsTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.metric.StatisticsProviderFactoryTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.074 sec
Running org.apache.jackrabbit.oak.plugins.value.BinaryBasedBlobTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.nodetype.TypeEditorTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.07 sec
Running org.apache.jackrabbit.oak.plugins.nodetype.write.NodeTypeRegistryTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.033 sec
Running org.apache.jackrabbit.oak.plugins.nodetype.write.InitialContentTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.313 sec
Running org.apache.jackrabbit.oak.plugins.blob.migration.DocumentToExternalMigrationTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 3.068 sec
Running org.apache.jackrabbit.oak.plugins.blob.GarbageCollectorFileStateTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.blob.datastore.DataStoreTextWriterTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.062 sec
Running org.apache.jackrabbit.oak.plugins.blob.datastore.DataStoreServiceTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.055 sec
Running org.apache.jackrabbit.oak.plugins.blob.datastore.OakFileDataStoreTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.plugins.blob.datastore.InMemoryDataRecordTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.blob.datastore.DataStoreBlobStoreTest
Tests run: 22, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.372 sec
Running org.apache.jackrabbit.oak.plugins.blob.ClusterRepositoryInfoTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.018 sec
Running org.apache.jackrabbit.oak.plugins.blob.SharedDataStoreUtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.14 sec
Running org.apache.jackrabbit.oak.plugins.blob.FileLineDifferenceIteratorTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.368 sec
Running org.apache.jackrabbit.oak.plugins.blob.BlobStoreStatsTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.version.ReadOnlyVersionManagerTest
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.624 sec
Running org.apache.jackrabbit.oak.plugins.atomic.AtomicCounterEditorTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running org.apache.jackrabbit.oak.plugins.memory.MemoryNodeBuilderTest
Tests run: 72, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.012 sec
Running org.apache.jackrabbit.oak.plugins.memory.EmptyNodeStateTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.memory.AbstractBlobTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.memory.PropertyBuilderTest
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.memory.PropertyStatesTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.index.aggregate.SimpleNodeAggregatorTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.index.property.OrderedPropertyIndexProviderTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.066 sec
Running org.apache.jackrabbit.oak.plugins.index.property.AsyncPropertyIndexTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 sec
Running org.apache.jackrabbit.oak.plugins.index.property.MultipleIndicesTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.04 sec
Running org.apache.jackrabbit.oak.plugins.index.property.ValuePathTupleTest
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexQueryTest
Tests run: 8, Failures: 0, Errors: 1, Skipped: 1, Time elapsed: 0.46 sec <<< FAILURE!
xpath(org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexQueryTest)  Time elapsed: 0.069 sec  <<< ERROR!
java.lang.Exception: Results in target/oajopi.property.PropertyIndexQueryTest_xpath.txt don't match expected results in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/test-classes/org/apache/jackrabbit/oak/query/xpath.txt; compare the files for details; got=
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Syntax:
# * lines that start with spaces belong to the previous line
# * lines starting with "#" are remarks.
# * lines starting with "select" are queries, followed by expected results and an empty line
# * lines starting with "explain" are followed by expected query plan and an empty line
# * lines starting with "sql1" are run using the sql1 language
# * lines starting with "xpath2sql" are just converted from xpath to sql2
# * all other lines are are committed into the microkernel (line by line)
# * new tests are typically be added on top, after the syntax docs
# * use ascii character only

# OAK-4376

xpath2sql //element(*, oak:QueryIndexDefinition)/*
select [jcr:path], [jcr:score], *
  from [oak:QueryIndexDefinition] as a
  /* xpath ... */

xpath2sql //element(*, oak:QueryIndexDefinition)//*
select [jcr:path], [jcr:score], *
  from [oak:QueryIndexDefinition] as a
  /* xpath ... */

# nested conditions are converted to union

xpath2sql /jcr:root/test//element(*, nt:unstructured)[
  (
    jcr:contains(., 'cinema') or @tags = 1
  )
  and (
   ( not(@types)
    or (
      not(@types = 'a')
      and not(@types = 'b')
      and not(@types = 'c')
    )
  )
 )]
select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where isdescendantnode(a, '/test')
  and contains(*, 'cinema')
  and [types] is null
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where isdescendantnode(a, '/test')
  and contains(*, 'cinema')
  and not([types] = 'a')
  and not([types] = 'b')
  and not([types] = 'c')
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where isdescendantnode(a, '/test')
  and [tags] = 1
  and [types] is null
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where isdescendantnode(a, '/test')
  and [tags] = 1
  and not([types] = 'a')
  and not([types] = 'b')
  and not([types] = 'c')
  /* xpath ... */

xpath2sql /jcr:root//*[(@a=1 or @b=1) and (@c=2 or (@c=3 and @c=4))]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/')
  and [a] = 1
  and [c] = 2
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/')
  and [a] = 1
  and [c] = 3
  and [c] = 4
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/')
  and [b] = 1
  and [c] = 2
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/')
  and [b] = 1
  and [c] = 3
  and [c] = 4
  /* xpath ... */

# multiple primary types
xpath2sql /jcr:root/content//*[jcr:contains(., 'abc') and (((@jcr:primaryType = 'page')) or ((@jcr:primaryType = 'asset'))) ]
select [jcr:path], [jcr:score], *
  from [page] as a
  where contains(*, 'abc')
  and isdescendantnode(a, '/content')
  and [jcr:primaryType] = 'page'
  union select [jcr:path], [jcr:score], *
  from [asset] as a
  where contains(*, 'abc')
  and isdescendantnode(a, '/content')
  and [jcr:primaryType] = 'asset'
  /* xpath ... */

# single primary type
xpath2sql //*[(@jcr:primaryType = 'a' or @jcr:primaryType = 'b' or @jcr:primaryType = 'c')]
select [jcr:path], [jcr:score], *
  from [a] as a
  where [jcr:primaryType] = 'a'
  union select [jcr:path], [jcr:score], *
  from [b] as a
  where [jcr:primaryType] = 'b'
  union select [jcr:path], [jcr:score], *
  from [c] as a
  where [jcr:primaryType] = 'c'
  /* xpath ... */

xpath2sql /jcr:root/content//*[jcr:contains(., 'abc') and @jcr:primaryType = 'page']
select [jcr:path], [jcr:score], *
  from [page] as a
  where contains(*, 'abc')
  and [jcr:primaryType] = 'page'
  and isdescendantnode(a, '/content')
  /* xpath ... */

# order by @jcr:score
xpath2sql /jcr:root/content//*[jcr:contains(., 'x')] order by @jcr:score descending
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains(*, 'x')
  and isdescendantnode(a, '/content')
  /* xpath ... */

xpath2sql /jcr:root/content//*[jcr:contains(., 'x')] order by @jcr:score ascending
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains(*, 'x')
  and isdescendantnode(a, '/content')
  order by [jcr:score]
  /* xpath ... */

xpath2sql /jcr:root/content//*[jcr:contains(., 'x')] order by @title
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains(*, 'x')
  and isdescendantnode(a, '/content')
  order by [title]
  /* xpath ... */

# "or" problem
xpath2sql /jcr:root/content//*[(@i = '1' or @i = '2') or (@t = 'a' or @t = 'b')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/content')
  and [i] in('1', '2')
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/content')
  and [t] in('a', 'b')
  /* xpath ... */

# "or" problem
xpath2sql /jcr:root/content//*[((@i = '1' or @i = '2') or (@s = 'x')) and (@t = 'a' or @t = 'b')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [t] in('a', 'b')
  and isdescendantnode(a, '/content')
  and [i] in('1', '2')
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [t] in('a', 'b')
  and isdescendantnode(a, '/content')
  and [s] = 'x'
  /* xpath ... */

xpath2sql /jcr:root/content//*[((@i = '1' or @i = '2') or (@s = 'x')) and (@t = 'a')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [t] = 'a'
  and isdescendantnode(a, '/content')
  and [i] in('1', '2')
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [t] = 'a'
  and isdescendantnode(a, '/content')
  and [s] = 'x'
  /* xpath ... */

xpath2sql /jcr:root/content//*[((@i = '1' or @i = '2') or (@s = 'x'))]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/content')
  and [i] in('1', '2')
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/content')
  and [s] = 'x'
  /* xpath ... */

# "or" with "order by" problem
xpath2sql /jcr:root/content//*[((@i = '1' or @i = '2') or (@s = 'x')) and (@t = 'a' or @t = 'b')] order by @a
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [t] in('a', 'b')
  and isdescendantnode(a, '/content')
  and [i] in('1', '2')
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [t] in('a', 'b')
  and isdescendantnode(a, '/content')
  and [s] = 'x'
  order by [a]
  /* xpath ... */

xpath2sql /jcr:root/content//*[((@i = '1' or @i = '2') or (@s = 'x')) and (@t = 'a')] order by @a
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [t] = 'a'
  and isdescendantnode(a, '/content')
  and [i] in('1', '2')
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [t] = 'a'
  and isdescendantnode(a, '/content')
  and [s] = 'x'
  order by [a]
  /* xpath ... */

xpath2sql /jcr:root/content//*[((@i = '1' or @i = '2') or (@s = 'x'))] order by @a
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/content')
  and [i] in('1', '2')
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/content')
  and [s] = 'x'
  order by [a]
  /* xpath ... */

# "or" problem (OAK-1432)
xpath2sql /jcr:root/content//element(*, nt:unstructured)
  [((@p1 = 'x1' or @p2 = 'x2') or @p3 = 'x3')]
select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where isdescendantnode(a, '/content')
  and [p1] = 'x1'
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where isdescendantnode(a, '/content')
  and [p2] = 'x2'
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where isdescendantnode(a, '/content')
  and [p3] = 'x3'
  /* xpath ... */

xpath2sql //*[((@jcr:primaryType = 'nt:unstructured' and
  (@p1 = 'x' or @p2 = 'x'))
  or (@p3 = 'x' and @jcr:primaryType = 'nt:folder')) ]
select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and [p1] = 'x'
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and [p2] = 'x'
  union select [jcr:path], [jcr:score], *
  from [nt:folder] as a
  where [p3] = 'x'
  and [jcr:primaryType] = 'nt:folder'
  /* xpath ... */

# use the optimal join order (OAK-1372)

xpath2sql /jcr:root/testroot//b/c/d/*
  [@jcr:uuid='1' or @jcr:uuid='2']
select d.[jcr:path] as [jcr:path], d.[jcr:score] as [jcr:score], d.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  inner join [nt:base] as c
  on ischildnode(c, b)
  inner join [nt:base] as d
  on ischildnode(d, c)
  where name(a) = 'b'
  and isdescendantnode(a, '/testroot')
  and name(b) = 'c'
  and name(c) = 'd'
  and d.[jcr:uuid] in('1', '2')
  /* xpath ... */

# property names with missing @

xpath2sql /jcr:root/test/*[@a='1' and b='2'
  and jcr:contains(c, '3')
  and jcr:contains(., '4')
  and jcr:contains(@d, '5')]
  order by e
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [a] = '1'
  and [b] = '2'
  and contains([c/*], '3')
  and contains(*, '4')
  and contains([d], '5')
  and ischildnode(a, '/test')
  order by [e]
  /* xpath ... */

# wildcards in relative property paths

xpath2sql /jcr:root/etc/test//*[@size='M' or */@size='M']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/etc/test')
  and [size] = 'M'
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/etc/test')
  and [*/size] = 'M'
  /* xpath ... */

# union (complex)

xpath2sql //*[((@jcr:primaryType = 'nt:unstructured')
  and (@resources = '/data' or @resolved = '/data'))]
select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and [resources] = '/data'
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and [resolved] = '/data'
  /* xpath ... */

xpath2sql //*[(((@jcr:primaryType = 'nt:unstructured')
  and (@resources = '/data' or @resolved = '/data'))
  or (@content = '/data' and (@jcr:primaryType = 'nt:folder'))) ]
select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and [resources] = '/data'
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and [resolved] = '/data'
  union select [jcr:path], [jcr:score], *
  from [nt:folder] as a
  where [content] = '/data'
  and [jcr:primaryType] = 'nt:folder'
  /* xpath ... */

# union must not be used for "contains or contains"

xpath2sql //*[((@jcr:primaryType = 'nt:unstructured')
  and (jcr:contains(., 'hello') or jcr:contains(., 'world')))]
select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and contains(*, 'hello')
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and contains(*, 'world')
  /* xpath ... */

xpath2sql //*[(((@jcr:primaryType = 'nt:unstructured')
  and (jcr:contains(., 'hello')
  or jcr:contains(., 'world')))
  or (@content = '/data'
  and (@jcr:primaryType = 'nt:folder'))) ]
select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and contains(*, 'hello')
  union select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and contains(*, 'world')
  union select [jcr:path], [jcr:score], *
  from [nt:folder] as a
  where [content] = '/data'
  and [jcr:primaryType] = 'nt:folder'
  /* xpath ... */

# de-escape _x00.._

xpath2sql /jcr:root//_x002e_test/element(*,rep:User)
  [_x002e_tokens/@jcr:primaryType]
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [rep:User] as b
  on ischildnode(b, a)
  where name(a) = '.test'
  and isdescendantnode(a, '/')
  and b.[.tokens/jcr:primaryType] is not null
  /* xpath ... */

# union and in(..)

xpath2sql //*[@x = 1 or @x = 2]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [x] in(1, 2)
  /* xpath ... */

xpath2sql //*[@x = 1 or @x = 2 or @x = 3]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [x] in(1, 2, 3)
  /* xpath ... */

xpath2sql //*[@x = 1 or @y = 2]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [x] = 1
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [y] = 2
  /* xpath ... */

xpath2sql //*[@x = 1 or @x = 2 or @y = 3]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [x] in(1, 2)
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [y] = 3
  /* xpath ... */

# xpath name escaping

xpath2sql //My_x0020_Documents
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) = 'My Documents'
  /* xpath ... */

xpath2sql //*[fn:name() = 'My Documents']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where upper(name(a)) = 'never matches'
  /* xpath ... */

xpath2sql //*[fn:name() = 'My_x0020_Documents']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) = 'My Documents'
  /* xpath ... */

xpath2sql //*[fn:name() <> 'My_x0020_Documents']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) <> 'My Documents'
  /* xpath ... */

xpath2sql //*[fn:upper-case(fn:name()) > 'MY_x0020_DOCS']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where upper(name(a)) > 'MY DOCS'
  /* xpath ... */

xpath2sql //*[fn:lower-case(fn:name()) < 'my_x0020_docs']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where lower(name(a)) < 'my docs'
  /* xpath ... */

xpath2sql //*[fn:lower-case(fn:upper-case(fn:name())) >= 'my_x0020_docs']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where lower(upper(name(a))) >= 'my docs'
  /* xpath ... */

xpath2sql //*[fn:upper-case(fn:lower-case(fn:name())) <= 'MY_x0020_DOCS']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where upper(lower(name(a))) <= 'MY DOCS'
  /* xpath ... */

xpath2sql //*[jcr:like(fn:name(), '%My Documents%')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) like '%My Documents%'
  /* xpath ... */

# jackrabbit test queries

xpath2sql /*[jcr:contains(., 'hello')]/rep:excerpt(.)
select [jcr:path], [jcr:score], [rep:excerpt]
  from [nt:base] as a
  where contains(*, 'hello')
  and issamenode(a, '/')
  /* xpath ... */

xpath2sql testroot//child/..[@foo1]
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(a, b)
  where name(a) = 'child'
  and isdescendantnode(a, '/testroot')
  and b.[foo1] is not null
  /* xpath ... */

xpath2sql //*[@jcr:uuid='1' or @jcr:uuid='2']//*[@jcr:uuid]/(@jcr:uuid)
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.[jcr:uuid] as [jcr:uuid]
  from [nt:base] as a
  inner join [nt:base] as b
  on isdescendantnode(b, a)
  where a.[jcr:uuid] in('1', '2')
  and b.[jcr:uuid] is not null
  /* xpath ... */

xpath2sql testroot//child/.[@foo1]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [foo1] is not null
  and name(a) = 'child'
  and isdescendantnode(a, '/testroot')
  /* xpath ... */

xpath2sql testroot//child[@foo1]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [foo1] is not null
  and name(a) = 'child'
  and isdescendantnode(a, '/testroot')
  /* xpath ... */

xpath2sql test.root//ch.ild[@fo.o1]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [fo.o1] is not null
  and name(a) = 'ch.ild'
  and isdescendantnode(a, '/test.root')
  /* xpath ... */

xpath2sql /jcr:root/testroot/node11
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where issamenode(a, '/testroot/node11')
  /* xpath ... */

xpath2sql /jcr:root/testroot/./node11
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where ischildnode(a, '/testroot')
  and name(b) = 'node11'
  /* xpath ... */

xpath2sql /jcr:root/testroot/././node11
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where ischildnode(a, '/testroot')
  and name(b) = 'node11'
  /* xpath ... */

xpath /jcr:root/testroot//*[0]
java.text.ParseException: /jcr:root/testroot//*[0] converted to SQL-2 Query: select [jcr:path], [jcr:score], * from [nt:base] as a where 0(*)is not null and isdescendantnode(a, '/testroot') /* xpath: /jcr:root/testroot//*[0] */; expected: NOT, (

xpath2sql /test
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) = 'test'
  and issamenode(a, '/')
  /* xpath ... */

xpath2sql /
invalid: Query: (*)/; expected: jcr:root, /, *, text, element, @, rep:excerpt, (, .

xpath2sql /[@name='data']
invalid: Query: /[(*)@name='data']; expected: jcr:root, /, *, text, element, @, rep:excerpt, (, .

xpath2sql //[@name='data']
invalid: Query: //[(*)@name='data']; expected: *, text, element, @, rep:excerpt, (, .

xpath2sql //child/[@id='2.1']
invalid: Query: //child/[(*)@id='2.1']; expected: jcr:root, /, *, text, element, @, rep:excerpt, (, .

xpath2sql //
invalid: Query: /(*)/; expected: *, text, element, @, rep:excerpt, (, .

xpath2sql [@name='data']
invalid: Query: [(*)@name='data']; expected: /, *, text, element, @, rep:excerpt, (, .

xpath2sql test
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where issamenode(a, '/test')
  /* xpath ... */

xpath2sql jcr:root
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where issamenode(a, '/jcr:root')
  /* xpath ... */

xpath2sql /jcr:root
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where issamenode(a, '/')
  /* xpath ... */

xpath2sql //jcr:root
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) = 'jcr:root'
  /* xpath ... */

xpath2sql *
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where ischildnode(a, '/')
  /* xpath ... */

xpath2sql /*
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where issamenode(a, '/')
  /* xpath ... */

xpath2sql //*
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  /* xpath ... */

xpath2sql //element(hello, nt:base)
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) = 'hello'
  /* xpath ... */

xpath2sql test/*
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where ischildnode(a, '/test')
  /* xpath ... */

xpath2sql element(*, nt:folder)
select [jcr:path], [jcr:score], *
  from [nt:folder] as a
  where ischildnode(a, '/')
  /* xpath ... */

xpath2sql //test
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) = 'test'
  /* xpath ... */

xpath2sql /jcr:root[@foo = 'does-not-exist']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [foo] = 'does-not-exist'
  and issamenode(a, '/')
  /* xpath ... */

xpath2sql 
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) = 'jcr:root'
  /* xpath ... */

xpath2sql /jcr:root/testroot/*/node11
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where ischildnode(a, '/testroot')
  and name(b) = 'node11'
  /* xpath ... */

# eq can't currently be supported as there is no equivalent in SQL-2
# (the behavior is different from = if one of the operands is a multi-valued property)
xpath2sql //testRoot/*[@jcr:primaryType='nt:unstructured' and @text eq 'foo']
invalid: Query: //testRoot/*[@jcr:primaryType='nt:unstructured'
  and @text eq(*)'foo']; expected: ]

xpath2sql //testRoot/*[@text = 'foo']
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where name(a) = 'testRoot'
  and b.[text] = 'foo'
  /* xpath ... */

xpath2sql /testRoot/*[@jcr:primaryType='nt:unstructured' and fn:not(@mytext)]
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:unstructured] as b
  on ischildnode(b, a)
  where name(a) = 'testRoot'
  and issamenode(a, '/')
  and b.[jcr:primaryType] = 'nt:unstructured'
  and b.[mytext] is null
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[jcr:contains(., '"quick brown" -cat')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains(*, '"quick brown" -cat')
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql //element(*,rep:Authorizable)
  [(((jcr:contains(profile/givenName,'**')
  or jcr:contains(profile/familyName,'**'))
  or jcr:contains(profile/email,'**'))
  or (jcr:like(rep:principalName,'%%')
  or jcr:like(fn:name(.),'%%')))]
  order by rep:principalName ascending
select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where contains([profile/givenName/*], '**')
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where contains([profile/familyName/*], '**')
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where contains([profile/email/*], '**')
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where [rep:principalName] like '%%'
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where name(a) like '%%'
  order by [rep:principalName]
  /* xpath ... */

xpath2sql //element(*,rep:Authorizable)
  [(((jcr:contains(profile/givenName,'**')
  or jcr:contains(profile/familyName,'**'))
  or jcr:contains(profile/email,'**'))
  or (jcr:like(@rep:principalName,'%%')
  or jcr:like(fn:name(.),'%%')))]
  order by @rep:principalName ascending
select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where contains([profile/givenName/*], '**')
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where contains([profile/familyName/*], '**')
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where contains([profile/email/*], '**')
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where [rep:principalName] like '%%'
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where name(a) like '%%'
  order by [rep:principalName]
  /* xpath ... */

xpath2sql //*[@a=1 or @b=1]/sub[@c=1]
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where b.[c] = 1
  and name(b) = 'sub'
  and a.[a] = 1
  union select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where b.[c] = 1
  and name(b) = 'sub'
  and a.[b] = 1
  /* xpath ... */

xpath2sql //*[@a=1 or @b=1]/sub[@c=1 or @d=1]
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where name(b) = 'sub'
  and a.[a] = 1
  and b.[c] = 1
  union select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where name(b) = 'sub'
  and a.[a] = 1
  and b.[d] = 1
  union select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where name(b) = 'sub'
  and a.[b] = 1
  and b.[c] = 1
  union select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:base] as b
  on ischildnode(b, a)
  where name(b) = 'sub'
  and a.[b] = 1
  and b.[d] = 1
  /* xpath ... */

xpath2sql //element(*,rep:Authorizable)
  [(((jcr:contains(profile/@givenName,'**')
  or jcr:contains(profile/@familyName,'**'))
  or jcr:contains(profile/@email,'**'))
  or (jcr:like(@rep:principalName,'%%')
  or jcr:like(fn:name(.),'%%')))]
  order by @rep:principalName ascending
select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where contains([profile/givenName], '**')
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where contains([profile/familyName], '**')
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where contains([profile/email], '**')
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where [rep:principalName] like '%%'
  union select [jcr:path], [jcr:score], *
  from [rep:Authorizable] as a
  where name(a) like '%%'
  order by [rep:principalName]
  /* xpath ... */

xpath2sql /jcr:root/testroot//*[jcr:contains(@jcr:data, 'lazy')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains([jcr:data], 'lazy')
  and isdescendantnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[jcr:contains(jcr:content, 'lazy')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains([jcr:content/*], 'lazy')
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[jcr:contains(*, 'lazy')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains([*/*], 'lazy')
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[jcr:contains(*/@jcr:data, 'lazy')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains([*/jcr:data], 'lazy')
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[jcr:contains(*/@*, 'lazy')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains([*/*], 'lazy')
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[@prop1 = 1 and jcr:like(fn:name(), 'F%')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [prop1] = 1
  and name(a) like 'F%'
  and ischildnode(a, '/testroot')
  /* xpath ... */

# TODO support rep:similar()? how?

xpath2sql /jcr:root/testroot/*[jcr:contains(., 'jackrabbit')]/(@my:title|@my:x)
select [jcr:path], [jcr:score], [my:title], [my:x]
  from [nt:base] as a
  where contains(*, 'jackrabbit')
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[jcr:contains(., 'jackrabbit')]/@my:title
select [jcr:path], [jcr:score], [my:title]
  from [nt:base] as a
  where contains(*, 'jackrabbit')
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[jcr:contains(., 'jackrabbit')]/rep:excerpt(.)
select [jcr:path], [jcr:score], [rep:excerpt]
  from [nt:base] as a
  where contains(*, 'jackrabbit')
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql //testroot/*[@jcr:primaryType='nt:unstructured'
  and fn:not(@mytext)]
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:unstructured] as b
  on ischildnode(b, a)
  where name(a) = 'testroot'
  and b.[jcr:primaryType] = 'nt:unstructured'
  and b.[mytext] is null
  /* xpath ... */

xpath2sql /jcr:root/testroot/people/jcr:deref(@worksfor, '*')
invalid: Query: /jcr:root/testroot/people/jcr:deref((*)@worksfor, '*'); expected: <end>

xpath2sql //*[@jcr:primaryType='nt:unstructured' and jcr:like(@foo,"%ar'ba%")]
select [jcr:path], [jcr:score], *
  from [nt:unstructured] as a
  where [jcr:primaryType] = 'nt:unstructured'
  and [foo] like '%ar''ba%'
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[fn:lower-case(@prop1) = 'foo']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where lower([prop1]) = 'foo'
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[fn:lower-case(@prop1) != 'foo']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where lower([prop1]) <> 'foo'
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[fn:lower-case(@prop1) <= 'foo']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where lower([prop1]) <= 'foo'
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[fn:lower-case(@prop1) >= 'foo']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where lower([prop1]) >= 'foo'
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[fn:lower-case(@prop1) < 'foo']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where lower([prop1]) < 'foo'
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[fn:lower-case(@prop1) > 'foo']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where lower([prop1]) > 'foo'
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[fn:lower-case(@prop1) <> 'foo']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where lower([prop1]) <> 'foo'
  and ischildnode(a, '/testroot')
  /* xpath ... */

xpath2sql /jcr:root/testroot/*[@prop1 = 1 and fn:name() = 'node1']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [prop1] = 1
  and name(a) = 'node1'
  and ischildnode(a, '/testroot')
  /* xpath ... */

# sling queries

xpath2sql //element(*,mix:language)
  [fn:lower-case(@jcr:language)='en']
  //element(*,sling:Message)
  [@sling:message]/(@sling:key|@sling:message)
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.[sling:key] as [sling:key], b.[sling:message] as [sling:message]
  from [mix:language] as a
  inner join [sling:Message] as b
  on isdescendantnode(b, a)
  where lower(a.[jcr:language]) = 'en'
  and b.[sling:message] is not null
  /* xpath ... */

xpath2sql //element(*,mix:language)
  [fn:upper-case(@jcr:language)='en']
  //element(*,sling:Message)
  [@sling:message]/(@sling:key|@sling:message)
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.[sling:key] as [sling:key], b.[sling:message] as [sling:message]
  from [mix:language] as a
  inner join [sling:Message] as b
  on isdescendantnode(b, a)
  where upper(a.[jcr:language]) = 'en'
  and b.[sling:message] is not null
  /* xpath ... */

# jboss example queries

xpath2sql //element(*,my:type)
select [jcr:path], [jcr:score], *
  from [my:type] as a
  /* xpath ... */

xpath2sql //element(*,my:type)/rep:excerpt(.)
select [jcr:path], [jcr:score], [rep:excerpt]
  from [my:type] as a
  /* xpath ... */

xpath2sql //element(*,my:type)/@my:title
select [jcr:path], [jcr:score], [my:title]
  from [my:type] as a
  /* xpath ... */

xpath2sql //element(*,my:type)/(@my:title | @my:text)
select [jcr:path], [jcr:score], [my:title], [my:text]
  from [my:type] as a
  /* xpath ... */

# other queries

xpath2sql /jcr:root/testdata/node[@jcr:primaryType]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [jcr:primaryType] is not null
  and issamenode(a, '/testdata/node')
  /* xpath ... */

xpath2sql //testroot/*[@jcr:primaryType='nt:unstructured']
  order by @prop2, @prop1
select b.[jcr:path] as [jcr:path], b.[jcr:score] as [jcr:score], b.*
  from [nt:base] as a
  inner join [nt:unstructured] as b
  on ischildnode(b, a)
  where name(a) = 'testroot'
  and b.[jcr:primaryType] = 'nt:unstructured'
  order by b.[prop2], b.[prop1]
  /* xpath ... */

xpath2sql /jcr:root/test//jcr:xmltext
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) = 'jcr:xmltext'
  and isdescendantnode(a, '/test')
  /* xpath ... */

xpath2sql /jcr:root/test//text()
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where name(a) = 'jcr:xmltext'
  and isdescendantnode(a, '/test')
  /* xpath ... */

xpath2sql /jcr:root/test/jcr:xmltext
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where issamenode(a, '/test/jcr:xmltext')
  /* xpath ... */

xpath2sql /jcr:root/test/text()
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where issamenode(a, '/test/jcr:xmltext')
  /* xpath ... */

xpath2sql //*[@name='Hello']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [name] = 'Hello'
  /* xpath ... */

xpath2sql /jcr:root//*[@name='Hello']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [name] = 'Hello'
  and isdescendantnode(a, '/')
  /* xpath ... */

xpath2sql content/*
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where ischildnode(a, '/content')
  /* xpath ... */

xpath2sql content//*
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/content')
  /* xpath ... */

xpath2sql content//*[@name='Hello']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [name] = 'Hello'
  and isdescendantnode(a, '/content')
  /* xpath ... */

xpath2sql /jcr:root/content//*[@name='Hello']
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [name] = 'Hello'
  and isdescendantnode(a, '/content')
  /* xpath ... */

xpath2sql //*[jcr:contains(., 'test')] order by @jcr:score
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains(*, 'test')
  order by [jcr:score]
  /* xpath ... */

xpath2sql /jcr:root//*[jcr:contains(., 'test')] order by @jcr:score
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where contains(*, 'test')
  and isdescendantnode(a, '/')
  order by [jcr:score]
  /* xpath ... */

xpath2sql /jcr:root//element(*, test)
select [jcr:path], [jcr:score], *
  from [test] as a
  where isdescendantnode(a, '/')
  /* xpath ... */

xpath2sql /jcr:root//element(*, user)[test/@jcr:primaryType]
select [jcr:path], [jcr:score], *
  from [user] as a
  where [test/jcr:primaryType] is not null
  and isdescendantnode(a, '/')
  /* xpath ... */

xpath2sql /jcr:root/content//*[(@sling:resourceType = 'start')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [sling:resourceType] = 'start'
  and isdescendantnode(a, '/content')
  /* xpath ... */

xpath2sql /jcr:root/content//*[(@sling:resourceType = 'page')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [sling:resourceType] = 'page'
  and isdescendantnode(a, '/content')
  /* xpath ... */

xpath2sql /jcr:root/content//*
  [@offTime > xs:dateTime('2012-03-28T15:56:18.327+02:00')
  or @onTime > xs:dateTime('2012-03-28T15:56:18.327+02:00')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/content')
  and [offTime] > cast('2012-03-28T15:56:18.327+02:00' as date)
  union select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/content')
  and [onTime] > cast('2012-03-28T15:56:18.327+02:00' as date)
  /* xpath ... */

xpath2sql /jcr:root/content/campaigns//*[@jcr:primaryType='Page']
  order by jcr:content/@lastModified descending
select [jcr:path], [jcr:score], *
  from [Page] as a
  where [jcr:primaryType] = 'Page'
  and isdescendantnode(a, '/content/campaigns')
  order by [jcr:content/lastModified] desc
  /* xpath ... */

xpath2sql /jcr:root/content/campaigns//element(*, PageContent)
  [((@sling:resourceType = 'teaser'
  or @sling:resourceType = 'newsletter')
  or (@teaserPageType = 'newsletter'
  or @teaserPageType = 'tweet'))
  and ((@onTime < xs:dateTime('2012-04-01T00:00:00.000+02:00'))
  or not(@onTime))
  and ((@offTime >= xs:dateTime('2012-02-26T00:00:00.000+01:00'))
  or not(@offTime))]
  order by @onTime
select [jcr:path], [jcr:score], *
  from [PageContent] as a
  where isdescendantnode(a, '/content/campaigns')
  and [sling:resourceType] in('teaser', 'newsletter')
  and [onTime] < cast('2012-04-01T00:00:00.000+02:00' as date)
  and [offTime] >= cast('2012-02-26T00:00:00.000+01:00' as date)
  union select [jcr:path], [jcr:score], *
  from [PageContent] as a
  where isdescendantnode(a, '/content/campaigns')
  and [sling:resourceType] in('teaser', 'newsletter')
  and [onTime] < cast('2012-04-01T00:00:00.000+02:00' as date)
  and [offTime] is null
  union select [jcr:path], [jcr:score], *
  from [PageContent] as a
  where isdescendantnode(a, '/content/campaigns')
  and [sling:resourceType] in('teaser', 'newsletter')
  and [onTime] is null
  and [offTime] >= cast('2012-02-26T00:00:00.000+01:00' as date)
  union select [jcr:path], [jcr:score], *
  from [PageContent] as a
  where isdescendantnode(a, '/content/campaigns')
  and [sling:resourceType] in('teaser', 'newsletter')
  and [onTime] is null
  and [offTime] is null
  union select [jcr:path], [jcr:score], *
  from [PageContent] as a
  where isdescendantnode(a, '/content/campaigns')
  and [teaserPageType] in('newsletter', 'tweet')
  and [onTime] < cast('2012-04-01T00:00:00.000+02:00' as date)
  and [offTime] >= cast('2012-02-26T00:00:00.000+01:00' as date)
  union select [jcr:path], [jcr:score], *
  from [PageContent] as a
  where isdescendantnode(a, '/content/campaigns')
  and [teaserPageType] in('newsletter', 'tweet')
  and [onTime] < cast('2012-04-01T00:00:00.000+02:00' as date)
  and [offTime] is null
  union select [jcr:path], [jcr:score], *
  from [PageContent] as a
  where isdescendantnode(a, '/content/campaigns')
  and [teaserPageType] in('newsletter', 'tweet')
  and [onTime] is null
  and [offTime] >= cast('2012-02-26T00:00:00.000+01:00' as date)
  union select [jcr:path], [jcr:score], *
  from [PageContent] as a
  where isdescendantnode(a, '/content/campaigns')
  and [teaserPageType] in('newsletter', 'tweet')
  and [onTime] is null
  and [offTime] is null
  order by [onTime]
  /* xpath ... */

xpath2sql /jcr:root/content/dam//element(*, asset)
select [jcr:path], [jcr:score], *
  from [asset] as a
  where isdescendantnode(a, '/content/dam')
  /* xpath ... */

xpath2sql /jcr:root/content/dam//element(*, asset)
  [jcr:content/metadata/@dam:scene]
select [jcr:path], [jcr:score], *
  from [asset] as a
  where [jcr:content/metadata/dam:scene] is not null
  and isdescendantnode(a, '/content/dam')
  /* xpath ... */

xpath2sql /jcr:root/etc/cloud//*[(@sling:resourceType = 'framework')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [sling:resourceType] = 'framework'
  and isdescendantnode(a, '/etc/cloud')
  /* xpath ... */

xpath2sql /jcr:root/etc/cloud//*[(@sling:resourceType = 'analytics')]
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where [sling:resourceType] = 'analytics'
  and isdescendantnode(a, '/etc/cloud')
  /* xpath ... */

xpath2sql /jcr:root/etc/reports//*[@jcr:primaryType='Page']
  order by jcr:content/@lastModified descending
select [jcr:path], [jcr:score], *
  from [Page] as a
  where [jcr:primaryType] = 'Page'
  and isdescendantnode(a, '/etc/reports')
  order by [jcr:content/lastModified] desc
  /* xpath ... */

xpath2sql /jcr:root/etc/segment//*[@jcr:primaryType='Page']
  order by jcr:content/@lastModified descending
select [jcr:path], [jcr:score], *
  from [Page] as a
  where [jcr:primaryType] = 'Page'
  and isdescendantnode(a, '/etc/segment')
  order by [jcr:content/lastModified] desc
  /* xpath ... */

xpath2sql /jcr:root/etc/workflow//element(*,Item)
  [not(meta/@archived) and not(meta/@archived = true())]
select [jcr:path], [jcr:score], *
  from [Item] as a
  where [meta/archived] is null
  and not([meta/archived] = true)
  and isdescendantnode(a, '/etc/workflow')
  /* xpath ... */

xpath2sql /jcr:root/etc/workflow//element(*,Item)
  [not(meta/@archived) and not(meta/@archived = false())]
select [jcr:path], [jcr:score], *
  from [Item] as a
  where [meta/archived] is null
  and not([meta/archived] = false)
  and isdescendantnode(a, '/etc/workflow')
  /* xpath ... */

xpath2sql /jcr:root/etc/workflow//element(*,Item)
  [not(meta/@archived) and not(meta/@archived = true)]
select [jcr:path], [jcr:score], *
  from [Item] as a
  where [meta/archived] is null
  and not([meta/archived] = true)
  and isdescendantnode(a, '/etc/workflow')
  /* xpath ... */

xpath2sql /jcr:root/home//element()
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/home')
  /* xpath ... */

xpath2sql /jcr:root/home//element(*)
select [jcr:path], [jcr:score], *
  from [nt:base] as a
  where isdescendantnode(a, '/home')
  /* xpath ... */

# other queries

xpath2sql //element(*, my:type)
select [jcr:path], [jcr:score], *
  from [my:type] as a
  /* xpath ... */

xpath2sql //element(*, my:type)/@my:title
select [jcr:path], [jcr:score], [my:title]
  from [my:type] as a
  /* xpath ... */

xpath2sql //element(*, my:type)/(@my:title | @my:text)
select [jcr:path], [jcr:score], [my:title], [my:text]
  from [my:type] as a
  /* xpath ... */

xpath2sql /jcr:root/nodes//element(*, my:type)
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where isdescendantnode(a, '/nodes')
  /* xpath ... */

xpath2sql /jcr:root/some/element(nodes, my:type)
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where issamenode(a, '/some/nodes')
  /* xpath ... */

xpath2sql /jcr:root/some/nodes/element(*, my:type)
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where ischildnode(a, '/some/nodes')
  /* xpath ... */

xpath2sql /jcr:root/some/nodes//element(*, my:type)
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where isdescendantnode(a, '/some/nodes')
  /* xpath ... */

xpath2sql //element(*, my:type)[@my:title = 'JSR 170']
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:title] = 'JSR 170'
  /* xpath ... */

xpath2sql //element(*, my:type)[jcr:like(@title,'%Java%')]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [title] like '%Java%'
  /* xpath ... */

xpath2sql //element(*, my:type)[jcr:contains(., 'JSR 170')]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where contains(*, 'JSR 170')
  /* xpath ... */

xpath2sql //element(*, my:type)[@my:title]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:title] is not null
  /* xpath ... */

xpath2sql //element(*, my:type)[not(@my:title)]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:title] is null
  /* xpath ... */

xpath2sql //element(*, my:type)[@my:value < -1.0]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:value] < -1.0
  /* xpath ... */

xpath2sql //element(*, my:type)[@my:value > +10123123123]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:value] > 10123123123
  /* xpath ... */

xpath2sql //element(*, my:type)[@my:value <= 10.3e-3]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:value] <= 10.3e-3
  /* xpath ... */

xpath2sql //element(*, my:type)[@my:value >= 0e3]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:value] >= 0e3
  /* xpath ... */

xpath2sql //element(*, my:type)[@my:value <> 'Joe''s Caffee']
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:value] <> 'Joe''s Caffee'
  /* xpath ... */

xpath2sql //element(*, my:type)[(not(@my:title) and @my:subject)]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:title] is null
  and [my:subject] is not null
  /* xpath ... */

xpath2sql //element(*, my:type)[not(@my:title) or @my:subject]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:title] is null
  union select [jcr:path], [jcr:score], *
  from [my:type] as a
  where [my:subject] is not null
  /* xpath ... */

xpath2sql //element(*, my:type)
  [not(@my:value > 0 and @my:value < 100)]
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where not([my:value] > 0
  and [my:value] < 100)
  /* xpath ... */

xpath2sql //element(*, my:type) order by @jcr:lastModified
select [jcr:path], [jcr:score], *
  from [my:type] as a
  order by [jcr:lastModified]
  /* xpath ... */

xpath2sql //element(*, my:type)
  order by @my:date descending, @my:title ascending
select [jcr:path], [jcr:score], *
  from [my:type] as a
  order by [my:date] desc, [my:title]
  /* xpath ... */

xpath2sql //element(*, my:type)[jcr:contains(., 'jcr')]
  order by jcr:score() descending
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where contains(*, 'jcr')
  order by score(a) desc
  /* xpath ... */

xpath2sql //element(*, my:type)[jcr:contains(@my:title, 'jcr')]
  order by jcr:score() descending
select [jcr:path], [jcr:score], *
  from [my:type] as a
  where contains([my:title], 'jcr')
  order by score(a) desc
  /* xpath ... */

xpath2sql [invalid/query
invalid: Query: [(*)invalid/query; expected: /, *, text, element, @, rep:excerpt, (, .

xpath2sql //element(*, my:type)[@my:value = -'x']
invalid: Query: //element(*, my:type)[@my:value = -'x'(*)]

xpath2sql //element(-1, my:type)
invalid: Query: //element(-(*)1, my:type); expected: identifier

xpath2sql //element(*, my:type)[not @my:title]
invalid: Query: //element(*, my:type)[not @(*)my:title]; expected: (

xpath2sql //element(*, my:type)[@my:value = +'x']
invalid: Query: //element(*, my:type)[@my:value = +'x'(*)]

xpath2sql //element(*, my:type)[@my:value = ['x']
invalid: Query: //element(*, my:type)[@my:value = [(*)'x']; expected: @, true, false, -, +, *, ., @, (

xpath2sql //element(*, my:type)[jcr:strike(@title,'%Java%')]
invalid: Query: //element(*, my:type)[jcr:strike(@(*)title,'%Java%')]; expected: jcr:like | jcr:contains | jcr:score | xs:dateTime | fn:lower-case | fn:upper-case | fn:name | rep:similar | rep:spellcheck | rep:suggest

xpath2sql //element(*, my:type)[
invalid: Query: //element(*, my:type)(*)[; expected: fn:not, not, (, @, true, false, -, +, *, ., @, (

xpath2sql //element(*, my:type)[@my:value >= %]
invalid: Query: //element(*, my:type)[@my:value >= %(*)]; expected: @, true, false, -, +, *, ., @, (

	at org.apache.jackrabbit.oak.query.AbstractQueryTest.test(AbstractQueryTest.java:238)
	at org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexQueryTest.xpath(PropertyIndexQueryTest.java:79)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)

Running org.apache.jackrabbit.oak.plugins.index.property.strategy.ContentMirrorStoreStrategyTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.index.property.MultiPropertyOrTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.101 sec
Running org.apache.jackrabbit.oak.plugins.index.property.OrderedPropertyIndexEditorProviderTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexTest
Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.445 sec
Running org.apache.jackrabbit.oak.plugins.index.property.RelativePathTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.028 sec
Running org.apache.jackrabbit.oak.plugins.index.property.jmx.PropertyIndexStatsTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.081 sec
Running org.apache.jackrabbit.oak.plugins.index.nodetype.NodeTypeIndexQueryTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.065 sec
Running org.apache.jackrabbit.oak.plugins.index.nodetype.NodeTypeIndexTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.021 sec
Running org.apache.jackrabbit.oak.plugins.index.AsyncIndexUpdateTest
Tests run: 21, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.148 sec
Running org.apache.jackrabbit.oak.plugins.index.diffindex.DiffCollectorTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.index.PathFilterTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.index.IndexUpdateTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.075 sec
Running org.apache.jackrabbit.oak.plugins.document.MultiDocumentStoreTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.418 sec
Running org.apache.jackrabbit.oak.plugins.document.CollisionWithSplitTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.ConcurrentDocumentStoreTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.121 sec
Running org.apache.jackrabbit.oak.plugins.document.BranchTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKCommitMoveTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.LastRevTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec
Running org.apache.jackrabbit.oak.plugins.document.RevisionTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.455 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKBranchMergeTest
Tests run: 19, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0.895 sec
Running org.apache.jackrabbit.oak.plugins.document.UpdateOpTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.MongoDocumentStoreTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.021 sec
Running org.apache.jackrabbit.oak.plugins.document.LargeTreeOperationTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.081 sec
Running org.apache.jackrabbit.oak.plugins.document.ClusterConflictTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.628 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKCommitCopyTest
Tests run: 21, Failures: 0, Errors: 0, Skipped: 14, Time elapsed: 0.022 sec
Running org.apache.jackrabbit.oak.plugins.document.UnmergedBranchTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKResetTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentDiscoveryLiteServiceCrashTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.047 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKRebaseTest
Tests run: 20, Failures: 0, Errors: 0, Skipped: 9, Time elapsed: 0.053 sec
Running org.apache.jackrabbit.oak.plugins.document.CheckpointsTest
Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.065 sec
Running org.apache.jackrabbit.oak.plugins.document.ConcurrentConflictTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.588 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentStorePerformanceTest
Tests run: 14, Failures: 0, Errors: 0, Skipped: 14, Time elapsed: 0.058 sec
Running org.apache.jackrabbit.oak.plugins.document.OrphanedBranchTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.464 sec
Running org.apache.jackrabbit.oak.plugins.document.VersionGCDeletionTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.156 sec
Running org.apache.jackrabbit.oak.plugins.document.ClusterViewTest
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.document.ConflictTest
Tests run: 54, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.078 sec
Running org.apache.jackrabbit.oak.plugins.document.ClusterNodeRestartTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running org.apache.jackrabbit.oak.plugins.document.NodeDocumentTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.257 sec
Running org.apache.jackrabbit.oak.plugins.document.CommitQueueTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.283 sec
Running org.apache.jackrabbit.oak.plugins.document.ClusterTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.063 sec
Running org.apache.jackrabbit.oak.plugins.document.BlobThroughPutTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.BlobCollectorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
Running org.apache.jackrabbit.oak.plugins.document.MongoDocumentStoreLimitsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.CacheConsistencyRDBTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.065 sec
Running org.apache.jackrabbit.oak.plugins.document.PathComparatorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.PreviousDocCacheTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.NodeStoreDiffTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec
Running org.apache.jackrabbit.oak.plugins.document.BlobReferenceIteratorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKGetHeadRevisionTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.document.IsolationTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.plugins.document.BlobTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.061 sec
Running org.apache.jackrabbit.oak.plugins.document.BasicDocumentStoreTest
Tests run: 58, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.909 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKCommitAddTest
Tests run: 14, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.019 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKCommitRemoveTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.02 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentSplitTest
Tests run: 24, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.311 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKNodeExistsTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec
Running org.apache.jackrabbit.oak.plugins.document.ClusterViewDocumentTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.03 sec
Running org.apache.jackrabbit.oak.plugins.document.LastRevRecoveryAgentTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.107 sec
Running org.apache.jackrabbit.oak.plugins.document.ConcurrentPropertyUpdateTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.56 sec
Running org.apache.jackrabbit.oak.plugins.document.VersionGCWithSplitTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.296 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentNodeStateTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.ClusterRevisionComparisonTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec
Running org.apache.jackrabbit.oak.plugins.document.BlobReferenceTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.ds.DocumentMKDataStoreReadTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.ds.DocumentMKDataStoreGetLengthTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.ds.MongoDataStoreBlobGCTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.ds.DocumentMKDataStoreWriteTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.DocumentMKWriteGridFSTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.DocumentMKGetLengthGridFSTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.RDBBlobStoreTest
Tests run: 23, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.383 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.DocumentMKReadGridFSTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.DocumentMKGetLengthTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.MongoBlobStoreTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.DocumentMKWriteTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.DocumentMKReadTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.cloud.DocumentMKCloudWriteTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.cloud.MongoCloudBlobGCTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.cloud.DocumentMKCloudReadTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.cloud.DocumentMKCloudGetLengthTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.blob.cloud.MongoCloudBlobStoreTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.document.ClusterJoinTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentNodeStoreTest
Tests run: 53, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.117 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKDiffTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.CacheConsistencyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.HierarchyConflictTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec
Running org.apache.jackrabbit.oak.plugins.document.AsyncCacheTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.325 sec
Running org.apache.jackrabbit.oak.plugins.document.mongo.MongoDocumentStoreTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.mongo.ClusterConflictTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.mongo.CollisionMarkerTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.mongo.QueryHintTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.mongo.MongoConnectionTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.034 sec
Running org.apache.jackrabbit.oak.plugins.document.mongo.AcquireRecoveryLockTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.mongo.MongoUtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.mongo.MongoMissingLastRevSeekerTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.BackgroundWriteTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.258 sec
Running org.apache.jackrabbit.oak.plugins.document.util.ReadOnlyDocumentStoreWrapperTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec
Running org.apache.jackrabbit.oak.plugins.document.util.RevisionsKeyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.util.MergeSortedIteratorsTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.util.UtilsTest
Tests run: 13, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0.013 sec
Running org.apache.jackrabbit.oak.plugins.document.util.TimingDocumentStoreWrapperTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.OptimizedChildFetchTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running org.apache.jackrabbit.oak.plugins.document.ClusterInfoTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
Running org.apache.jackrabbit.oak.plugins.document.MongoBlobGCTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.ManyChildNodesTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.078 sec
Running org.apache.jackrabbit.oak.plugins.document.RangeTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.CollisionTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
Running org.apache.jackrabbit.oak.plugins.document.CommitRootUpdateTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.document.rdb.RDBDocumentStoreJDBCTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0.058 sec
Running org.apache.jackrabbit.oak.plugins.document.rdb.RDBToolsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.rdb.RDBDocumentStorePerformanceTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 10, Time elapsed: 0.03 sec
Running org.apache.jackrabbit.oak.plugins.document.rdb.RDBDocumentStoreTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.033 sec
Running org.apache.jackrabbit.oak.plugins.document.rdb.RDBDocumentSerializerTest
Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.335 sec
Running org.apache.jackrabbit.oak.plugins.document.rdb.RDBExportTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.MergeRetryTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.012 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKGetNodesTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 3, Time elapsed: 0.012 sec
Running org.apache.jackrabbit.oak.plugins.document.InitializerTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.ValueMapTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.146 sec
Running org.apache.jackrabbit.oak.plugins.document.impl.command.ConcurrentWriteMultipleMkMongoTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.impl.DocumentMKLimitsTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.impl.DocumentMKConcurrentAddTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.NodeDocumentIdComparatorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.cache.CacheChangesTrackerTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentDiscoveryLiteServiceTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.041 sec
Running org.apache.jackrabbit.oak.plugins.document.CommitTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec
Running org.apache.jackrabbit.oak.plugins.document.ConflictExceptionTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.BulkCreateOrUpdateClusterTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.808 sec
Running org.apache.jackrabbit.oak.plugins.document.RandomizedClusterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.22 sec
Running org.apache.jackrabbit.oak.plugins.document.VisibleChangesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.plugins.document.LastRevSingleNodeRecoveryTest
Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.ConcurrentUpdatesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.LastRevRecoveryTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec
Running org.apache.jackrabbit.oak.plugins.document.RevisionGCTest
Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.BulkCreateOrUpdateTest
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.665 sec
Running org.apache.jackrabbit.oak.plugins.document.MongoDbTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.JournalEntryTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.089 sec
Running org.apache.jackrabbit.oak.plugins.document.persistentCache.CacheTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.654 sec
Running org.apache.jackrabbit.oak.plugins.document.persistentCache.async.CacheActionDispatcherTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.351 sec
Running org.apache.jackrabbit.oak.plugins.document.persistentCache.async.CacheWriteQueueTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.036 sec
Running org.apache.jackrabbit.oak.plugins.document.persistentCache.BroadcastTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 3, Time elapsed: 0.145 sec
Running org.apache.jackrabbit.oak.plugins.document.SharedBlobStoreGCTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.146 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentStoreStatsTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.024 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentNodeStoreDiffTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.document.RevisionVectorTest
Tests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.document.DocumentMKBranchTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
Running org.apache.jackrabbit.oak.plugins.document.LocalDiffCacheTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 sec
Running org.apache.jackrabbit.oak.plugins.document.JournalTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.457 sec
Running org.apache.jackrabbit.oak.plugins.document.SimpleTest
Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.029 sec
Running org.apache.jackrabbit.oak.plugins.document.UpdateUtilsTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.document.MissingLastRevSeekerTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.plugins.name.NameValidatorTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.observation.filter.FilterBuilderTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.plugins.observation.filter.GlobbingPathFilterTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.observation.filter.PropertyPredicateTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.plugins.observation.filter.NodeTypePredicateTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.observation.filter.UuidPredicateTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.plugins.observation.filter.SelectorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.plugins.observation.CommitRateLimiterTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.104 sec
Running org.apache.jackrabbit.oak.plugins.observation.NodeObserverTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.plugins.tree.TreeLocationTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.246 sec
Running org.apache.jackrabbit.oak.plugins.tree.TreeTypeProviderTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.212 sec
Running org.apache.jackrabbit.oak.plugins.tree.impl.ImmutableTreeTest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.777 sec
Running org.apache.jackrabbit.oak.stats.StatisticManagerTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running org.apache.jackrabbit.oak.stats.SimpleStatsTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.043 sec
Running org.apache.jackrabbit.oak.stats.DefaultStatisticsProviderTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.stats.ClockTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.331 sec
Running org.apache.jackrabbit.oak.cache.ConcurrentTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.21 sec
Running org.apache.jackrabbit.oak.cache.CacheTest
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.497 sec
Running org.apache.jackrabbit.oak.cache.ConcurrentPerformanceTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.spi.commit.BackgroundObserverTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.237 sec
Running org.apache.jackrabbit.oak.spi.commit.MoveTrackerTest
Tests run: 18, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.spi.commit.SubtreeValidatorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running org.apache.jackrabbit.oak.spi.whiteboard.WhiteboardUtilsTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.spi.whiteboard.WhiteboardUserAuthenticationFactoryTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.119 sec
Running org.apache.jackrabbit.oak.spi.security.authorization.restriction.AbstractRestrictionProviderTest
Tests run: 21, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.572 sec
Running org.apache.jackrabbit.oak.spi.security.authorization.restriction.CompositeRestrictionProviderTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.397 sec
Running org.apache.jackrabbit.oak.spi.security.authorization.restriction.RestrictionImplTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.143 sec
Running org.apache.jackrabbit.oak.spi.security.authorization.restriction.RestrictionDefinitionImplTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.145 sec
Running org.apache.jackrabbit.oak.spi.security.authorization.accesscontrol.ACETest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.619 sec
Running org.apache.jackrabbit.oak.spi.security.authorization.accesscontrol.ImmutableACLTest
Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.386 sec
Running org.apache.jackrabbit.oak.spi.security.authorization.permission.PermissionsTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.197 sec
Running org.apache.jackrabbit.oak.spi.security.authentication.GuestLoginModuleTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.spi.security.authentication.credentials.SimpleCredentialsSupportTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running org.apache.jackrabbit.oak.spi.security.authentication.PreAuthTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.177 sec
Running org.apache.jackrabbit.oak.spi.security.authentication.AbstractLoginModuleTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.spi.security.privilege.PrivilegeBitsTest
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.395 sec
Running org.apache.jackrabbit.oak.spi.security.privilege.PrivilegeBitsProviderTest
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.261 sec
Running org.apache.jackrabbit.oak.spi.security.CompositeConfigurationTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.138 sec
Running org.apache.jackrabbit.oak.spi.security.ConfigurationParametersTest
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running org.apache.jackrabbit.oak.spi.security.principal.EveryonePrincipalTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.spi.security.principal.PrincipalImplTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.spi.security.user.action.DefaultAuthorizableActionProviderTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.138 sec
Running org.apache.jackrabbit.oak.spi.security.user.action.GroupActionTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.156 sec
Running org.apache.jackrabbit.oak.spi.security.user.action.GroupActionBestEffortTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.156 sec
Running org.apache.jackrabbit.oak.spi.security.user.action.PasswordChangeActionTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.093 sec
Running org.apache.jackrabbit.oak.spi.security.user.action.PasswordValidationActionTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.106 sec
Running org.apache.jackrabbit.oak.spi.security.user.action.AccessControlActionTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.122 sec
Running org.apache.jackrabbit.oak.spi.security.user.util.PasswordUtilTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.152 sec
Running org.apache.jackrabbit.oak.spi.query.CursorsTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.spi.query.PropertyStateValueTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running org.apache.jackrabbit.oak.spi.state.MoveDetectorTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.spi.state.AbstractRebaseDiffTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running org.apache.jackrabbit.oak.OakTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.032 sec
Running org.apache.jackrabbit.oak.management.ManagementOperationTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec

Results :

Tests in error: 
  xpath(org.apache.jackrabbit.oak.plugins.index.property.PropertyIndexQueryTest): Results in target/oajopi.property.PropertyIndexQueryTest_xpath.txt don't match expected results in /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/test-classes/org/apache/jackrabbit/oak/query/xpath.txt; compare the files for details; got=(..)

Tests run: 2882, Failures: 0, Errors: 1, Skipped: 113

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 02:21 min
[INFO] Finished at: 2016-07-28T10:59:41-07:00
[INFO] Final Memory: 34M/1216M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project oak-core: There are test failures.
[ERROR] 
[ERROR] Please refer to /home/ylyu/parallel/oak/oak9/dataset/oak/OAK-4376_037dea72ff44f35aa866d96292fd2d21ceecccb6/oak-core/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
